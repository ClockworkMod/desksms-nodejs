.container
  .topbar
    .container.fixed
      h3
        a#desksms-header-link.logo(href='javascript:void(0)') DeskSMS
      ul
        li
          a#desksms-login.login-hide.link(href='javascript:void(0)') Login
        li
          a#connect-google.connect-google.link(href='javascript:void(0)') Sync Contacts
        li
          a.enable-chrome-notifications.hidden(href='javascript:notifications.requestPermissions()') Enable Notifications
        li
          a#buy-desksms.buy-desksms.hidden(href='javascript:page.purchase()')

      form(action='javascript:void(0)')
        input#contact-search(type='text', placeholder='Enter Contact Name or Number')
      
      ul.nav
        li.menu
          a.menu(href='#')
            img(src='images/options.png')
          ul.menu-dropdown
            li
              a(href='javascript:page.showNotificationSettings()') Notification
            li
              a.connect-google.link(href='javascript:void(0)') Sync Contacts
            li.divider
            li
              a#desksms-login.login-show.link.hidden(href='javascript:void(0)') Logout
      script
        $(document).ready(function(){
          $("body").bind("click", function(e) {
              $("ul.menu-dropdown").hide();
              $('a.menu').parent("li").removeClass("open").children("ul.menu-dropdown").hide();
            });

          $("a.menu").click(function(e) {
             var $target = $(this);
             var $parent = $target.parent("li");
             var $siblings = $target.siblings("ul.menu-dropdown");
             var $parentSiblings = $parent.siblings("li");
             if ($parent.hasClass("open")) {
               $parent.removeClass("open");
               $siblings.hide();
             } else {
               $parent.addClass("open");
               $siblings.show();
             }
             $parentSiblings.children("ul.menu-dropdown").hide();
             $parentSiblings.removeClass("open");
             return false;
           });
          });

  - each notification in notifications
    audio.hidden(id='notification-' + notification)
      source(src='notifications/' + notification + '.ogg')

  .container(style='padding-top: 60px')

  section#alerts
    .row
      .span12.columns
        .alert-message.error.login-hide
          p New to DeskSMS? Install the DeskSMS Android application to get started! If you have already installed the application, just log in above to send and receive your texts!
          p
            a.btn.small.link(href='https://market.android.com/details?id=com.koushikdutta.desktopsms') Download DeskSMS
        #content-status-not-registered.alert-message.error.hidden
          p Thanks for logging in! Now, you need to install the DeskSMS Android application on your phone send and receive texts!
          p
            a.btn.small.link(href='https://market.android.com/details?id=com.koushikdutta.desktopsms') Download DeskSMS
        #content-status.content-status.hidden.alert-message.success

  section#content-container
    #conversation-template.conversation-template.hidden
      .row
        .span3.columns(align='center')
          img.contact-image(src='images/contact.png')
          h3
            .contact-name
          strong
            .contact-number
          h6
            .contact-last-message-date
          #conversation-id.hidden

        #contact-messages-internal.span7.columns.well
          #contact-message-template.contact-message-template.hidden
            strong
              span.message-from
            span=': '
            span.message-content
            span=' '
            em
              span.message-date
            span=' '
            img.message-pending(src='images/message-pending.png')

      .message-panel-footer.row
        .span7.columns.offset3
          form.contact-text-container-hidden.hidden(action='javascript:void(0)')
            input.xlarge.contact-text-content(type="text", style='width: 100%')
            .contact-text-character-count
      center
        .contact-action-confirm-dialog.hidden.row
          .span7.columns.offset3
            .contact-action-confirm-question Are you sure?
            a.btn.small.primary.contact-action-confirm-yes(href='javascript:void(0);') Yes
            a.btn.small.contact-action-confirm-no(href='javascript:void(0);') No
      .row
        .span7.columns.offset3
          a.contact-text.btn.small.primary(href='javascript:void(0);') Text
          a.contact-call.btn.small(href='javascript:void(0);') Call
          a.contact-delete.btn.small(href='javascript:void(0);') Delete
  


iframe#push-iframe.hidden(src='push.html')

#notification-settings.hidden.dialog-container
  .ui-dialog(style='outline-width: 0px; outline-style: initial; outline-color: initial; height: auto; width: auto; top: 100px; left: 400px; display: block; z-index: 1001;')
    #test-modal.modal(style='position: relative; top: auto; left: auto; margin: 0 auto; z-index: 1')
      .modal-header
        h3 Notification Settings
        a.close(href='javascript:void(0)', onclick='page.closeDialog(this)') &times;
      section.modal-body
        - var count = 0
        - var current = null
        - var rows = []
        - each notification in notifications
          - if (count % 3 == 0)
            - current = []
            - rows.push(current)
          - count = count + 1
          - current.push(notification)
        .row
          .span2.columns.padded-bottom
            a.notification.btn.small.secondary(href='javascript:void(0);', onclick='page.setNotification(this)', id='notification-button-None') None
        - each row in rows
          .row
            - each notification in row
              .span2.columns.padded-bottom
                a.notification.btn.small.secondary(href='javascript:void(0);', onclick='page.setNotification(this)', id='notification-button-' + notification)= notification
      .modal-footer
        a.btn.primary(href='javascript:void(0)', onclick='page.closeDialog(this)') Done

#buy-dialog.hidden.dialog-container
  .ui-dialog(style='outline-width: 0px; outline-style: initial; outline-color: initial; height: auto; width: auto; top: 100px; left: 400px; display: block; z-index: 1001;')
    #test-modal.modal(style='position: relative; top: auto; left: auto; margin: 0 auto; z-index: 1')
      .modal-header
        h3 Your purchase helps keep the DeskSMS servers running!
        a.close(href='javascript:void(0)', onclick='page.closeDialog(this)') &times;
      section.modal-body
        center
          .padded-bottom
          #account-status.buy-desksms.padded-bottom
          .padded-bottom
          .padded-bottom
            a(href='javascript:page.purchaseOnGoogleCheckout()')
              img(src='images/google_checkout.png')
          .padded-bottom
          .padded-bottom or
          .padded-bottom
            a(href='javascript:page.purchaseOnMarket()')
              img(src='images/android_market.png')
          #buy-android You can buy a DeskSMS License from within the DeskSMS Android application, or check out <em>now</em> using your same Google Checkout account above!
      .modal-footer
        a.btn.primary(href='javascript:void(0)', onclick='page.closeDialog(this)') Done
